"use strict";(self.webpackChunknotiz=self.webpackChunknotiz||[]).push([[730],{5642:(y,p,r)=>{r.d(p,{K:()=>e});var a=r(9808),s=r(9354),l=r(5503),m=r(6919),d=r(5e3);let e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[],imports:[[a.ez,l.D,s.JP.forChild(),m.Bz]]}),i})()},9854:(y,p,r)=>{r.d(p,{p:()=>e});var a=r(2340),s=r(5e3),l=r(2313);let m=(()=>{class i{constructor(t,c){this.meta=t,this.title=c,this.defaultConfig={title:a.N.title,description:a.N.description,robots:"index, follow",image:this.absoluteImageUrl(a.N.featureImage),route:""}}setTitle(t){this.title.setTitle(t)}setDescription(t){this.meta.updateTag({name:"description",content:t})}updateRobots(t){this.meta.updateTag({name:"robots",content:t})}updateKeywords(t){this.meta.updateTag({name:"keywords",content:t.join(", ")})}generateMetaTags(t={}){t=Object.assign(Object.assign(Object.assign({},this.defaultConfig),t),{keywords:t.keywords?[...a.N.keywords,...t.keywords]:a.N.keywords}),this.setTitle(t.title),this.setDescription(t.description),this.updateRobots(t.robots),this.updateKeywords(t.keywords),this.openGraph(t),this.twitterCard(t)}openGraph(t){return this.meta.updateTag({property:"og:title",content:t.title}),this.meta.updateTag({property:"og:description",content:t.description}),this.meta.updateTag({property:"og:type",content:"article"}),this.meta.updateTag({property:"og:url",content:`${a.N.url}${t.route}`}),this.meta.updateTag({property:"og:image",content:t.og_image||t.image}),this.meta.updateTag({property:"og:image:alt",content:t.description}),this.meta.updateTag({property:"og:site_name",content:a.N.title}),this.meta.updateTag({property:"og:locale",content:"en_US"}),t.article?(this.meta.updateTag({property:"og:type",content:"article"}),this.meta.updateTag({property:"og:article:published_time",content:t.article.published_time}),this.meta.updateTag({property:"og:article:modified_time",content:t.article.modified_time}),this.meta.updateTag({property:"og:article:tag",content:t.article.tag.join(", ")}),void this.meta.updateTag({property:"og:article:author",content:t.article.author.join(", ")})):(this.meta.removeTag('property="og:article:published_time"'),this.meta.removeTag('property="og:article:modified_time"'),this.meta.removeTag('property="og:article:tag"'),this.meta.removeTag('property="og:article:author"'),t.author?(this.meta.updateTag({property:"og:type",content:"profile"}),this.meta.updateTag({property:"og:profile:first_name",content:t.author.first_name}),this.meta.updateTag({property:"og:profile:lastname",content:t.author.last_name}),void this.meta.updateTag({property:"og:profile:username",content:t.author.username})):(this.meta.removeTag('property="og:profile:first_name"'),this.meta.removeTag('property="og:profile:lastname"'),this.meta.removeTag('property="og:profile:username"'),void this.meta.updateTag({property:"og:type",content:"website"})))}twitterCard(t){this.meta.updateTag({name:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({name:"twitter:site",content:"@notiz_dev"}),this.meta.updateTag({name:"twitter:creator",content:"@notiz_dev"}),this.meta.updateTag({name:"twitter:title",content:t.title}),this.meta.updateTag({name:"twitter:description",content:t.description}),this.meta.updateTag({name:"twitter:image",content:t.twitter_image||t.image})}absoluteImageUrl(t){return`${a.N.url}/${t}`}}return i.\u0275fac=function(t){return new(t||i)(s.LFG(l.h_),s.LFG(l.Dx))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var d=r(6919);let e=(()=>{class i{constructor(t,c){this.seoService=t,this.router=c,this.title=a.N.title,this.description=a.N.description,this.tags=[],this.keywords=[],this.route=this.router.url,this.image=this.absoluteImageUrl(a.N.featureImage),this.robots="index, follow"}ngOnInit(){this.updateMetaTags()}ngOnChanges(t){this.updateMetaTags()}updateMetaTags(){this.seoService.generateMetaTags({title:this.title,description:this.description,route:this.route,keywords:this.keywords?[...this.tags,...this.keywords]:this.tags,image:this.image,twitter_image:this.twitterImage?this.getTwitterImage(this.twitterImage):null,og_image:this.ogImage?this.getOgImage(this.ogImage):null,robots:this.robots,article:this.getArticle(),author:this.getAuthor()})}getArticle(){return this.articlePublishedAt&&this.articleUpdatedAt&&this.articleAuthors?{published_time:this.articlePublishedAt,modified_time:this.articleUpdatedAt,tag:this.tags,author:this.articleAuthors}:null}getAuthor(){return this.authorFirstName&&this.authorLastName&&this.authorUserName?{first_name:this.authorFirstName,last_name:this.authorLastName,username:this.authorUserName}:null}getTwitterImage(t){return`https://notiz.dev/assets/banners${t}/twitter.png`}getOgImage(t){return`https://notiz.dev/assets/banners${t}/og.png`}absoluteImageUrl(t){return`${a.N.url}/${t}`}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(m),s.Y36(d.F0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["niz-seo"]],inputs:{title:"title",description:"description",tags:"tags",keywords:"keywords",route:"route",image:"image",twitterImage:"twitterImage",ogImage:"ogImage",robots:"robots",authorFirstName:"authorFirstName",authorLastName:"authorLastName",authorUserName:"authorUserName",articlePublishedAt:"articlePublishedAt",articleUpdatedAt:"articleUpdatedAt",articleAuthors:"articleAuthors"},features:[s.TTD],decls:0,vars:0,template:function(t,c){},encapsulation:2}),i})()},5014:(y,p,r)=>{r.d(p,{m:()=>l});var a=r(9808),s=r(5e3);let l=(()=>{class m{}return m.\u0275fac=function(e){return new(e||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({imports:[[a.ez]]}),m})()},6563:(y,p,r)=>{r.r(p),r.d(p,{NewsletterConfirmModule:()=>M});var a=r(5014),s=r(9808),l=r(6919),m=r(590),d=r(1884),e=r(5e3),i=r(5708),h=r(7224),t=r(9854),c=r(9063);function f(o,u){1&o&&(e.ynx(0),e._UZ(1,"niz-inline-svg",4),e.BQk())}function v(o,u){1&o&&(e.ynx(0),e._UZ(1,"img",5),e.TgZ(2,"h2",6),e._uU(3,"Oh no!"),e.qZA(),e.TgZ(4,"p",7),e._uU(5," Something went wrong, sorry! Please try again later.\u{1f648} "),e.qZA(),e.BQk())}function T(o,u){1&o&&(e.ynx(0),e._UZ(1,"img",8),e.TgZ(2,"h2",6),e._uU(3," Thanks for subscribing! "),e.qZA(),e.TgZ(4,"p",7),e._uU(5," From now on we'll update you about new posts on notiz.dev. In the meantime "),e.TgZ(6,"a",9),e._uU(7," say hi on twitter."),e.qZA()(),e.BQk())}const w=[{path:"",component:(()=>{class o{constructor(n,g,A){this.route=n,this.subscriptionService=g,this.plausible=A}ngOnInit(){const n=this.route.snapshot.queryParamMap.get("uuid");this.confirmSubscription(n)}confirmSubscription(n){this.subscriptionService.confirm({body:{uuid:n}}).pipe((0,m.P)()).subscribe({error:()=>{this.error=!0},complete:()=>{this.plausible.event(d.N.Newsletter,{props:{event:"confirmed"}}),this.confirmed=!0}})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(l.gz),e.Y36(i.FF),e.Y36(h.h5))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-newsletter-confirm"]],decls:6,vars:3,consts:[["title","Confirm newsletter - notiz","description","Confirm your newsletter subscription for notiz.dev","robots","nofollow, noindex"],[1,"container","mt-8","space-y-6"],[1,"flex","flex-col","items-center","justify-center","min-h-80"],[4,"ngIf"],["svgSource","assets/img/spinner.svg",1,"h-6","w-6","spin"],["src","assets/img/cancel.svg","alt","Error while confirming subscription",1,"w-64"],[1,"mt-2","text-2xl","font-semibold","md:text-3xl"],[1,"mt-1","text-lg","md:text-xl"],["src","assets/img/subscribed.svg","alt","Subscription confirmed",1,"w-64"],["href","https://twitter.com/notiz_dev",1,"text-primary","hover:text-primary-dark"]],template:function(n,g){1&n&&(e._UZ(0,"niz-seo",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,f,2,0,"ng-container",3),e.YNc(4,v,6,0,"ng-container",3),e.YNc(5,T,8,0,"ng-container",3),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("ngIf",!g.confirmed&&!g.error),e.xp6(1),e.Q6J("ngIf",!g.confirmed&&g.error),e.xp6(1),e.Q6J("ngIf",g.confirmed))},directives:[t.p,s.O5,c.u],styles:[""]}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.Bz.forChild(w)],l.Bz]}),o})();var N=r(5642),I=r(4964);let M=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[],imports:[[s.ez,C,N.K,I.D,a.m]]}),o})()}}]);